import { marked } from 'marked';

async function copyMarkdownAsRichText(markdown: string) {
  try {
    // Convert Markdown → HTML
    const htmlContent = marked.parse(markdown);

    // Create clipboard items for both HTML and plain text
    const htmlBlob = new Blob([htmlContent], { type: 'text/html' });
    const textBlob = new Blob([markdown], { type: 'text/plain' });

    const clipboardItem = new ClipboardItem({
      'text/html': htmlBlob,
      'text/plain': textBlob
    });

    // Write to clipboard (requires user interaction)
    await navigator.clipboard.write([clipboardItem]);
    alert('Copied Markdown as formatted text!');
  } catch (error) {
    console.error('❌ Copy failed:', error);
  }
}
